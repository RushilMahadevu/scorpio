import{g as m}from"./firebase.C02fFjrf.js";document.addEventListener("astro:page-load",async()=>{try{const e=await m();if(e&&typeof e=="object"&&"email"in e){const o=document.getElementById("teacher-name"),c=document.getElementById("teacher-email");o&&"displayName"in e&&(o.value=e.displayName||""),c&&(c.value=e.email||"")}}catch(e){console.log("Could not load user data:",e)}document.querySelectorAll(".btn-primary").forEach(e=>{e.addEventListener("click",async o=>{if(o.preventDefault(),o.target.closest(".settings-section")?.querySelector("#teacher-name")){const r=document.getElementById("teacher-name"),d=document.getElementById("teacher-title");try{const l=r?.value||"",u=d?.value||"";console.log("Saving profile:",{name:l,title:u}),n("Profile updated successfully!","success")}catch{n("Failed to update profile","error")}}else n("Settings saved successfully!","success")})}),document.querySelectorAll(".toggle-switch input").forEach(e=>{e.addEventListener("change",()=>{localStorage.setItem(e.id,e.checked.toString())});const o=localStorage.getItem(e.id);o!==null&&(e.checked=o==="true")});const t=document.getElementById("change-password-btn");t&&t.addEventListener("click",()=>{n("Password change feature coming soon!","info")});const i=document.getElementById("logout-all-devices");i&&i.addEventListener("click",()=>{confirm("Are you sure you want to logout all devices?")&&n("Logged out from all devices","success")})});function n(s,a="info"){const t=document.createElement("div");t.className=`notification notification-${a}`,t.textContent=s,document.body.appendChild(t),setTimeout(()=>t.classList.add("show"),100),setTimeout(()=>{t.classList.remove("show"),setTimeout(()=>t.remove(),300)},3e3)}
