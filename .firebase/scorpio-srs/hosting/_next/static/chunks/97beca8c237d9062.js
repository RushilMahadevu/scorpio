(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4071,e=>{"use strict";var t=e.i(18050),r=e.i(71645);e.i(36180);var u=e.i(98925),l=e.i(59141);let n=(0,r.createContext)({user:null,role:null,loading:!0});function o({children:e}){let[o,s]=(0,r.useState)(null),[i,c]=(0,r.useState)(null),[a,d]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let e=(0,l.onAuthChange)(async e=>{try{s(e),e?(await (0,u.getDoc)((0,u.doc)(l.db,"teachers",e.uid))).exists()?c("teacher"):(await (0,u.getDoc)((0,u.doc)(l.db,"students",e.uid))).exists()?c("student"):c(null):c(null)}catch(e){console.error("Error fetching user role:",e),c(null)}finally{d(!1)}});return()=>e()},[]),(0,t.jsx)(n.Provider,{value:{user:o,role:i,loading:a},children:e})}e.s(["AuthProvider",()=>o,"useAuth",0,()=>(0,r.useContext)(n)])}]);